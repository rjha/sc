15 May 2012

 Test local deployment
 server deployment
    new config variable : session.backend => set to default on server
    DB patching : 
    
alter table sc_user_group add column name varchar(32) ;
update sc_user_group ug set ug.name = (select g.name from sc_group_master g where g.token = ug.token) ;
update sc_user_group set name = token where name is NULL;
alter table sc_media add column thumbnail_name varchar(256);


-- pull new code
-- run script to fix thumbnail names
-- new cron script, comment out remove_stale_sessions fn()





 - Fix user dashboard and upload!
 - DB patch - sc_user_group.name column
 - shut off Nginx/PHP version  advertising
   - URL like http://www.3mik.com/group/beta.php should return nginx 404
json_enocde and json_deocde error checks everywhere
file upload - do not take more than 256 chars in name - js check
malformed mediaVO - js check?


14 May 2012
 - Add SSL support for login page
 - Better sharing with friends and social networks
 - supercow button
 - SQL injection : look @ all queries again please!
 - Fix - PHP : No input file found exception
 - Turn off publicizing Nginx + PHP version
 - why the heck sphinx query.log are of size zero??
 - image upload script :- should be protected by login
 - error when MediaVO does not contain the required attributes (examine in JavaScript)


 Fix thumbnail name issue:- 
    thumbnails are always jpeg files and their extension should change
    The way to do that is 
    1. Add column thumbnail_name to sc_media
    2. Run sql to fix the 9 posts for what we do not have data
    3. Run the fix-thumbnail-name-script
    4. Get a list of media ids and verify that they all have thumbnail_name 
    5. Upload new code

    
 - 9 images were screwed because of "single quote (') issue " 
   - Need to test more with strange image file names - we can simply filter such names
   - Just put an alphanumeric filter (or our SEO key converter) in front of what the browser supplies
   - Fix the broken images_json posts :- maybe override with '[]' ?
   - An example:- http://mint.3mik.com/item/203755 
   - Robust image error handling
   - we have orphans in sc_media table because of edits
     - upload  pic 1 - post.media.id = 1 
     - edit and change to pic2 - now post.media.id=2 but sc_media has both 1,2 , 1 is orphan
     - How to calculate post.media relations? => offline? why do we even record in sc_media??
       if we have form.unique_token then we can do that?
        session_id + unique token + media data in redis.io
        when post is pushed : session_id + form_unique_token + post_id => add/update!
    


13 May 2012

- UI fixing
  - group: Alphabetical push buttons instead of Alpha bar that we have right now.
  - Tampered URLs => what to do? Not found looks like better solution
     => what kind of URL tampering can be done?
     => what to do in each situation? 
     
  - When no results : Suggest things to user 
    + Ask for email when items become available
    + Random items from site? 

  - Login in with google + yahoo as well?
  - Add google/yahoo openID login options
  + log it - what are people searching for on our site?
  + User dashboard should be visible after user login - Right now under a link
  + Help link
  + supercow button should be visible after admin login 
  + Profile page changes :- Capture additional details like website 
    email /link/About you/Picture
    User pub page - side strip :- show synopsis 
        - Like groups / # of posts / Follow button
        - when joined date 
        - Likes/ comments/ Followers         
        - website / Blog link 

  + Browsing options - Top sites/Popular?
  + Like/Save :- nice icons
  + email harvesting
 

12 May 2012
- what are people searching for? what are they typing in our search boxes?
- separate user and monitor widgets
- Add supercow button to item details page for monitor logins


11 May 2012
 - Redis
 - pagination on monitor app/user dashboard
 - help content on user dahsboard pages


10 May 2012
- Group search results 
    - Add extra navigation options, Like All Groups/ Alpha etc. 
     And say @see more groups
- sphinx searchd not starting on debian machines
 
Mysql  session handler
 + PDO Tx start() and commit()
 + To Make sure that we use two different connections/ 
    session connx is the one holding Tx
 + init_connect and query.log
 + mysql database mysql.user table, see super_priv for your user 
    (init_connect not executed for user with super priv)
 + $_SESSION is the problem - one request/session design - use redis.io  


08 May 2012

@todo Test
 + login 
 + registration
 + FB registration
 + Twitter registration
 + Post create 
 + Group process(site-worker.sh)
 +3mik registration (success + error) 
 + Test $pdo->exec errors : I suspect they do not throw errors - Group Process has to be redone now!
 throwing exception depends on PDO settings. we do get errors from $dbh->execute. The error code mechanism is more for cases when you do not throw exception.

@todo Code 

14) Add correct file name (ending in .jpeg) for thumbnails
19) Edit page - user groups - open in cards instead of as cloud
20) Followers/Following page
22) Add pagination / filter / No record found messages everywhere (image?)
23) Post widget actions - feature/unfeature
1) Better log errors when site URL are bad like: UNKNOWN_URL_PATTERN
3) Faceboo router => should detect scripts ending in .php => important!
5) make sure that all pUrl and qUrl are not processed by our form hander - we need raw urls, Fix navigation for cancel button everywhere.
6)Form protection by inserting unique tokens  - PRG or DejaVu' pattern to avoid form resubmission
7) fix fancybox related errors in nginx 
8) sitemap - automatically generate every week
9) New item in Navigation Bar-  what can I do?
    - share
    - Ask
    - Answer
10) MySQL session support - move to PDO / remove REPLACE with UPSERT
13) store thumbnail information in media files
15) create ICU resource bundles with php-intl
16) fix DB filter creation - model on hibernate
17) Need to fix the profile page : Ask for more data
18) Redo all form scripts using exception handling bits


25) interest based browsing?
2) - Mix photos with group browsing?
11) Sphinx delta indexing
12)Install a JOB queue for Async processes 
- Look @ Redis and Beanstalkd
- Async processes - registration /reset password mails , thumbnail creation
21) Fix DB Errors - throw MySQLException from lower layers

24) Error page display fix - new page maybe?
