(function(b){var j="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";b.fn.imagesLoaded=function(k){function l(){var c=b(h),a=b(g);d&&(g.length?d.reject(e,c,a):d.resolve(e));b.isFunction(k)&&k.call(f,e,c,a)}function m(c){var a=c.target;a.src===j||-1!==b.inArray(a,i)||(i.push(a),"error"===c.type?g.push(a):h.push(a),b.data(a,"imagesLoaded",{event:c.type,src:a.src}),o&&d.notify(e.length,i.length,h.length,g.length),0>=--n&&(setTimeout(l),e.unbind(".imagesLoaded",m)))}var f=this,
d=b.isFunction(b.Deferred)?b.Deferred():0,o=b.isFunction(d.notify),e=f.find("img").add(f.filter("img")),n=e.length,i=[],h=[],g=[];n||l();e.bind("load.imagesLoaded error.imagesLoaded",m).each(function(){var c=this.src,a=b.data(this,"imagesLoaded");a&&a.src===c?b(this).triggerHandler(a.event):(this.src=j,this.src=c)});return d?d.promise(f):f}})(jQuery);
